<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>乙己-为静心阅读而生</title>
    <meta name="description" content="乙己图书-有品格的数字图书馆,爱上阅读,享受阅读." />
    <meta name="Keywords" content="乙己阅读,在线阅读,电子书籍下载,书籍推荐" />
    <!--引用字体图标css文件-->
    <link rel="shortcut icon" href="image/logo_favicon.ico">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/comment.css">
    <link rel="stylesheet" href="css/recommend.css">
    <link rel="stylesheet" href="font/font_1128196_1evlsbpee78/iconfont.css">
<body>
<!--顶部-->
<div class="wrap">
    <div class="header" id="top" >
        <div class="wrapper container clearfix">
            <!--             logo-->
            <a href="index.html" class="logo">
                <h1>乙己图书</h1>
            </a>
            <div class="top-tit">
                <a href="index.html"><span class="iconfont icon-haoqixin"></span> 乙己研究所</a>
                <a href="read.html"><span class="iconfont icon-zhongxin"></span> 阅读中心</a>
            </div>
            <div class="top-center fl">
                <!--                 全部分类-->
                <div class="part-main container" id="part-main">
                    <!--                     障眼法 top透明 down黑色-->
                    <div class="p-top"></div>
                    <div class="p-down">
                        <div class="p-c">
                            <ul class="clearfix">
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>资讯</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>国学/古籍</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>出版图书</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>电子书</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>网络小说</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>在线阅读</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>书法</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>设计</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>专题</a></li>
                                <li><a href="javascript:"><span class="iconfont icon-zhegerenyouhaoqixin"></span>分类</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--                 顶部中间内容-->
                <div class="uls">
                    <ul class="clearfix">
                        <a href="top15.html"><li>Top15</li></a>
                        <a href="letter.html"><li>文学</li></a>
                        <a href="science.html"><li>科技</li></a>
                        <a href="fashion.html"><li>时尚</li></a>
                        <a href="atrical.html"><li>艺术</li></a>
                        <a href="culture.html"><li>文化</li></a>
                        <a href="pc.html"><li>计算机</li></a>
                        <a href="javascript:"><li>推荐</li></a>
                        <li class="part">
                            <a id="classify" href="javascript:">全部分类<span class="iconfont icon-triangle-down"></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!--             搜索  点击搜索 弹出框-->
            <div class="user-wrapper">
                <div class="search">
                    <a id="link" href="javascript:"><span class="iconfont icon-icon-"></span></a>
                </div>
                <!--搜索弹出框-->
                <!--如果a的href属性值中.协议名是javascript. 那么点击a标签的时候,就会执行:后面的代码-->
                <div id="search-tan" class="search-tan">
                    <div id="title" class="search-title">
                        <span><a id="closeBtn" href="javascript:void(0);" class="close-search  m-color">关闭</a></span>
                    </div>
                    <div class="search-input-content">
                        <div class="search-input">
                            <input class="input-main" type="text" placeholder="请输入书名/作者/关键字">
                            <button class="btn-icon"><span class="iconfont icon-icon-"></span></button>
                        </div>
                    </div>
                    <div id="searchBtn" class="search-button">
                        <p>大家都在搜</p>
                        <div class="all-search clearfix">
                            <ul>
                                <li><a class="m-color2" href="javascript:">蜜汁炖鱿鱼</a></li>
                                <li><a class="m-color2" href="javascript:">李敖自传</a></li>
                                <li><a class="m-color2" href="javascript:">北京的隐秘角落</a></li>
                                <li><a class="m-color2" href="javascript:">日本画记</a></li>
                                <li><a class="m-color2" href="javascript:">皮肤的秘密</a></li>
                            </ul>
                            <ul>
                                <li><a class="m-color2" href="javascript:">建水记</a></li>
                                <li><a class="m-color2" href="javascript:">房思琪的初恋乐园</a></li>
                                <li><a class="m-color2" href="javascript:">至大金陵新志</a></li>
                                <li><a class="m-color2" href="javascript:">建水记</a></li>
                            </ul>
                            <ul>
                                <li><a class="m-color2" href="javascript:">谈美书简</a></li>
                                <li><a class="m-color2" href="javascript:">谈美</a></li>
                                <li><a class="m-color2" href="javascript:">思考的艺术</a></li>
                                <li><a class="m-color2" href="javascript:">一神论的影子</a></li>
                            </ul>
                            <ul>
                                <li><a class="m-color2" href="javascript:">德国哲学</a></li>
                                <li><a class="m-color2" href="javascript:">伊雍</a></li>
                                <li><a class="m-color2" href="javascript:">读书与书籍</a></li>
                                <li><a class="m-color2" href="javascript:">孟子旁通</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--                 联系我们-->
                <div class="callus">
                    <ul class="clearfix">
                        <li><a href="#">登录注册</a></li>
                        <!--                         鼠标移入 显示二维码-->
                        <li><a href="#">
                             <span id="weixin" class="iconfont icon-weixin">
                                 <img id="w-ma" class="erweima" src="Updown/weixin.gif" alt="扫一扫">
                             </span>
                        </a></li>
                        <li><a href="#">
                             <span id="weibo" class="iconfont icon-weibofangxing">
                                 <img id="w-bo" class="erweima" src="Updown/weibo.jpg" alt="扫一扫">
                             </span></a></li>
                        <li><a href="#">
                             <span id="qq" class="iconfont icon-QQ">
                                 <img id="qq-ma" class="erweima" src="Updown/weixin.gif" alt="扫一扫">
                             </span></a></li>
                        <li><a href="#">联系我们</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!--全部分类 点击显示 隐藏部分-->
<div class="part-box">
    <!--     <div class="part-main container" id="part-main"></div>-->
</div>
<!--回到顶部-->
<div class="to-top" id="totop">
    <span class="iconfont icon-reqiqiu"></span>
</div>
<!-- 遮盖层 -->
<div id="bg" class="search-bg"></div>
<!--culture内容-->
<div class="pubu container">
    <div class="pubu-items" id="pubu-01">
    </div>
    <div class="pubu-items" id="pubu-02">
    </div>
    <div class="pubu-items" id="pubu-03">
    </div>
    <div class="pubu-items" id="pubu-04">
    </div>
</div>
<!--footer-->
<!--底部-->
<footer>
    <div class="footer-t container clearfix">
        <div class="foot-l clearfix">
            <ol>
                <li><a class="acolor" href="index.html">首页</a></li>
                <li><a href="top15.html">T15</a></li>
                <li><a href="recommend.html">推荐</a></li>
                <li><a href="javascript:">图示资源</a></li>
                <li><a href="javascript:">关于乙己</a></li>
                <li><a href="javascript:">联系我们</a></li>
            </ol>
            <ol>
                <li><a class="acolor" href="javascript:">书籍推荐</a></li>
                <li><a href="javascript:">钦定大清会典图</a></li>
                <li><a href="javascript:">画万年花甲</a></li>
                <li><a href="javascript:">钦定授时通考</a></li>
                <li><a href="javascript:">钟伯敬先生批评水浒</a></li>
                <li><a href="javascript:">千金翼方</a></li>
                <li><a href="javascript:">仪凤元年金刚经</a></li>
            </ol>
            <ol>
                <li><a class="acolor" href="javascript:">乙己推荐</a></li>
                <li><a href="javascript:">世界数字图书馆</a></li>
                <li><a href="javascript:">中国历史照片</a></li>
                <li><a href="javascript:">搜韵-影印古籍资料</a></li>
                <li><a href="javascript:">今日应用</a></li>
                <li><a href="javascript:">好奇心日报</a></li>
            </ol>
            <ol>
                <li><a class="acolor" href="javascript:">读书导航</a></li>
                <li><a href="javascript:">搜狐读书</a></li>
                <li><a href="javascript:">凤凰读书</a></li>
                <li><a href="javascript:">新华阅读</a></li>
                <li><a href="javascript:">文明网阅读</a></li>
            </ol>
            <ol>
                <li><a class="acolor" href="javascript:">电子书</a></li>
                <li><a href="javascript:">kindle</a></li>
                <li><a href="javascript:">书格</a></li>
                <li><a href="javascript:">鸠摩搜书</a></li>
                <li><a href="javascript:">走读派</a></li>
                <li><a href="javascript:">苦瓜阅读</a></li>
            </ol>
        </div>
        <div class="foot-r">
            <div class="foot-search-box">
                <input class="footer-search-txt" type="text" name="" placeholder="请输入">
                <a href="javascript:" class="footer-search-btn">
                    <span class="iconfont icon-icon-"></span>
                </a>
            </div>
            <div class="foot-box-d"></div>
        </div>
    </div>
    <div class="footer-d">
        <div class="footer-bottom container">
            <p> 乙己阅读（RSS）｜ <a href="javascript:">联系</a> ｜ <a href="javascript:">捐助</a></p>
        </div>
    </div>
</footer>

<script src="js/comment.js"></script>
<script src="js/head.js"></script>
<script src="js/main.js"></script>
<script>
    <!--    屏幕大小,初始化图片的占用位置-->
    windowHeight = window.screen.height + 500;
    //准备图片
    var imgId = 0;
    window.onload = function () {
        insertImg();
        //监听滚动事件
        window.document.addEventListener("scroll", function () {
            //二次加载的时候要去判断
            //document.documentElement.scrollTop :已经滚动的内容高度
            //window.screen.height :窗口高度
            //document.documentElement.scrollHeight : 能滚动的最大高度
            if(document.documentElement.scrollTop + window.screen.height > document.documentElement.scrollHeight){
                //    重新去插入图片  再次加载的时候 改变预期 500
                windowHeight += 500;
                insertImg();
            }
        });
    }
    //插入图片的算法 封装一个函数
    var insertImg = function () {
        var intter = setInterval(function () {
            //文档里的文档节点 他的对应往下可以滚动的高度 > 了之前设置的高度  就可停下了
            if (document.documentElement.scrollHeight >windowHeight){
                //达到预期高度就停止
                clearInterval(intter);
            }
            //给浏览器设置时间 让他有充分时间往里面去插入图片 确认完成 再去执行下一步操作
            var mDiv = mainDiv();
            //插图是要判断
            imgId ++;
            if (imgId > 15) {
                imgId = 1 ;
            }
            var img = document.createElement('img');
            //设置节点
            img.setAttribute('src',"img/"+imgId+".jpg");
            //把节点放进去----放图  给浏览器一个指令----插图.但是浏览器的渲染还没有完成. 什么时候完成 取决于浏览器
            mDiv.appendChild(img);
        },150);
    }
    var mainDiv = function () {
        var pb1 = document.getElementById('pubu-01');
        var pb2 = document.getElementById('pubu-02');
        var pb3 = document.getElementById('pubu-03');
        var pb4 = document.getElementById('pubu-04');

        //    拿到img里面的图
        var pbImgs_1 = pb1.children;
        var pbImgs_2 = pb2.children;
        var pbImgs_3 = pb3.children;
        var pbImgs_4 = pb4.children;

        var pb1Height = jisuan(pbImgs_1);
        var pb2Height = jisuan(pbImgs_2);
        var pb3Height = jisuan(pbImgs_3);
        var pb4Height = jisuan(pbImgs_4);

        var minHeight = Math.min(pb1Height,pb2Height,pb3Height,pb4Height);
        if(minHeight == pb1Height){
            return pb1;
        }
        if(minHeight == pb2Height){
            return pb2;
        }
        if(minHeight == pb3Height){
            return pb3;
        }
        if(minHeight == pb4Height){
            return pb4;
        }
    }
    //    1拿到集合 进行计算
    var jisuan = function (pbImgs) {
        //2判断是否存在图片
        if (pbImgs == null || pbImgs.length == 0) {
            return 0;
        }else  {
            // 6在累加前 需要
            var height = 0;
            //3获取到当前列每一个图片
            for (var i = 0; i < pbImgs.length; i++) {
                var img = pbImgs[i];
                //4拿到高度
                var h = img.height;
                //   5 进行累加
                height += h;
            }
            //7循环结束
            return height;
        }
    }
</script>
</body>
</html>